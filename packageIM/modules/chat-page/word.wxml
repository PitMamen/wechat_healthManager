<import src="./chat-send-status.wxml" />
<import src="./voice.wxml" />
<template name="chat-word">
    <view style="width: 100%;display: flex;flex-direction: {{isMy?'row-reverse':'row'}};margin-bottom: {{index===length-1?150:20}}rpx;margin-top: 20rpx;">
        <image style="width: 70rpx;height: 70rpx;border-radius: 50%;margin-left: 15rpx;margin-right: 15rpx;" src="{{headUrl}}" />
       

        <block wx:if="{{type==='TIMTextElem'}}">
            <text wx:if="{{type==='TIMTextElem'}}" class="{{isMy?'isMyWordStyle':'isOtherWordStyle'}}" bindtap="chatTextItemClickEvent" data-index="{{index}}" decode>{{content.text}}</text>
        </block>

        <block wx:if="{{type==='TIMImageElem'}}">
            <image wx:if="{{type==='TIMImageElem'}}" class="chat-list-pic-style" src="{{content.imageInfoArray[1].url}}" mode="aspectFill" bindtap="imageClickEvent" data-url="{{content.imageInfoArray[0].url}}" />
        </block>

        <block wx:if="{{type==='TIMSoundElem'}}">
            <view  style="width: {{(content.second-1)*0.6+10}}%;display: flex;justify-content: {{isMy?'flex-end':'flex-start'}}" class="{{isMy?'isMyWordStyle':'isOtherWordStyle'}}" bindtap="chatVoiceItemClickEvent" data-voice-path="{{content.url}}" data-voice-duration="{{content.second}}" data-is-my="{{isMy}}" data-index="{{index}}">
                <view wx:if="{{isMy}}" class="voice-duration-my-style">{{content.second}}"</view>
               
                <template is="voice-item" data="{{isMy:isMy,isPlaying:content.isPlaying}}" />
                <view wx:if="{{!isMy}}" class="voice-duration-other-style">{{content.second}}"</view>
            </view>
           
        </block>

        <block wx:if="{{type==='TIMVideoFileElem'}}">

           
            <view  class="video-box-img" bindtap="onVideoPlayClick" data-item="{{content}}">
                <image class="video-img" src="{{content.thumbUrl }}" mode="aspectFill"></image>
                <image class="video-icon" src="../../../image/video-play.png"></image>
            </view>
            <!-- <video class="video-message" id="myVideo" poster="{{content.thumbUrl }}" src="http://develop.mclouds.org.cn:8009/content-api/file/V20220929161959601JMNZW9EVDQFKWK-1111.mp4?bitValueOsType=miniProgram"></video> -->

        </block>



        <block wx:if="{{isMy}}">
            <template is="chat-send-status" data="{{sendStatus:sendStatus,index:index}}" />
        </block>

    </view>
</template>